<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:util="http://www.springframework.org/schema/util"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
						http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
						http://www.springframework.org/schema/context
						http://www.springframework.org/schema/context/spring-context-2.5.xsd
						http://www.springframework.org/schema/tx
						http://www.springframework.org/schema/tx/spring-tx-2.5.xsd
						http://www.springframework.org/schema/util 
						http://www.springframework.org/schema/util/spring-util-2.5.xsd">

	<bean
		class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
		<property name="properties">
			<util:properties>
				<prop key="institution">1234567</prop>
				<prop key="idcode">1234567</prop>
				<prop key="security.server">http://xtee.girf.ee/cgi-bin/consumer_proxy</prop>				
				<prop key="database">teavistuskalender</prop>
				<prop key="version">1</prop>
				<prop key="method">jurr</prop>
			</util:properties>
		</property>
	</bean>

	<!-- Data sources -->
	<bean id="aditDataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close">
        <property name="driverClassName" value="org.postgresql.Driver"/>
        <property name="url" value="jdbc:postgresql://ats.girf.ee:5432/adit"/>
        <property name="username" value="adit_user"/>
        <property name="password" value="yyy"/>
    </bean>

<!-- 	<bean id="aditDVKDataSource" class="org.springframework.jndi.JndiObjectFactoryBean"> -->
<!-- 		<property name="jndiName" value="java:comp/env/jdbc/adit_dvk-arendus" /> -->
<!-- 	</bean> -->
	
	<bean id="aditDVKDataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close">
        <property name="driverClassName" value="org.postgresql.Driver"/>
        <property name="url" value="jdbc:postgresql://ats.girf.ee:5432/dvkklient"/>
        <property name="username" value="postgres"/>
        <property name="password" value="postgres"/>
    </bean>
	
	<import resource="adit-services.xml"/>
	<import resource="adit-dao.xml"/>
	<import resource="adit-endpoints.xml"/>
	
	<!-- Configuration -->
	<bean id="configuration" class="ee.adit.util.Configuration">
		<property name="xteeProducerName" value="@PRODUCER_NAME@" />
		<property name="getJoinedMaxResults" value="10"/>
		<property name="tempDir" value="C:\temp\adit"/>
		<property name="deleteTemporaryFiles" value="true"/>
		<property name="schedulerEventTypeName" value="Minu dokumentide teavitus"/>
		<property name="dvkResponseMessageStylesheet" value="DVKresponseMessage.xsl"/>

		<!-- Default disk quota in bytes per user -->
		<property name="globalDiskQuota" value="10240000"/>

		<!-- Document retention deadline in days (specifies how many days document 
		is stored before it's files are deleted). -->
		<property name="documentRetentionDeadlineDays" value="365"/>

		<property name="locales">
			<list>
				<value>et_ee</value>
				<value>en_us</value>
				<value>ru_ru</value>
			</list>
		</property>
		<property name="dvkOrgCode" value="10939882" />
		<property name="xteeInstitution" value="10939882" />
		<property name="xteeSecurityServer" value="http://194.204.55.171/cgi-bin/consumer_proxy" />
		<property name="xteeIdCode" value="EE47809296513" />
		
		<!-- DVK folder names -->
		<property name="dvkSendFolder" value="/" />
		<property name="dvkRecieveFolders">
			<list>
				<value>/</value>
				<value>EVORMID</value>
			</list>
		</property>
		<property name="dvkFolderForLetterType" value="/" />
		<property name="dvkFolderForApplicationType" value="/" />

		<!-- Specifies how many seconds the system waits for unfinished digital 
		signatures to be finished. During this period initiating additional signatures 
		to the same document is blocked. -->
		<property name="unfinishedSignatureLifetimeSeconds"	value="300" />
		        <property name="doCheckTestCert" value="true"/>    
	</bean>

	<bean id="monitorConfiguration" class="ee.adit.util.MonitorConfiguration">
		<property name="aditServiceUrl" value="http://localhost:8080/adit/service" />
		<property name="remoteApplicationShortName" value="MONITOR_TEST_APP" />
		<property name="userCode" value="EE00000000000" />
		<property name="institutionCode" value="123456789" />
		<property name="testDocumentId" value="999999999999" />
		<property name="dvkTestDocumentID" value="9999999999" />
		<property name="dvkFolder" value="TESTFOLDER" />
		<property name="testDocumentFileId" value="999999999999" />
		<property name="testUserCode" value="EE00000000000" />
		<property name="documentSaveInterval" value="60000" />
		<property name="documentSendToDvkInterval" value="60000" />
		<property name="documentSendToAditInterval" value="60000" />
		<property name="notificationSendInterval" value="900000" />
		<property name="errorInterval" value="60000" />
		<property name="errorLevel" value="FATAL" />
	</bean>
	<bean id="checkSignatures" class="java.lang.Boolean">
		  <constructor-arg value="true"/>
	</bean>
</beans>
